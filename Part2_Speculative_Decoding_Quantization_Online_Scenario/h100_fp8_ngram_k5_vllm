# VLLM Server
VLLM_ATTENTION_BACKEND=FLASH_ATTN vllm serve "Qwen/Qwen3-8B-FP8" --kv-cache-dtype fp8 --max-model-len 8192 --tensor-parallel-size 1 --gpu-memory-utilization 0.9 --seed 42 --speculative-config '{"method": "ngram","num_speculative_tokens": 5, "prompt_lookup_max": 5}' &> serve_fp8_num5.log &

guidellm benchmark --target http://localhost:8000 --model "Qwen/Qwen3-8B-FP8" \
--data 'prompt_tokens=2048,output_tokens=128' \
--data-samples 300 \
--rate-type sweep \
--warmup 0.01 \
--cooldown 0.01

ℹ Request Latency Statistics (Completed Requests)
|=============|=========|========|========|========|======|======|======|======|
| Benchmark   | Request Latency || TTFT           || ITL        || TPOT       ||
| Strategy    | Sec             || ms             || ms         || ms         ||
|             | Mdn     | p95    | Mdn    | p95    | Mdn  | p95  | Mdn  | p95  |
|-------------|---------|--------|--------|--------|------|------|------|------|
| synchronous | 1.1     | 1.1    | 70.6   | 72.3   | 7.8  | 8.1  | 8.3  | 8.6  |
| throughput  | 7.3     | 7.6    | 4005.0 | 4141.2 | 25.7 | 28.1 | 56.9 | 59.6 |
| constant    | 1.2     | 1.2    | 34.6   | 39.3   | 8.8  | 8.9  | 9.0  | 9.1  |
| constant    | 2.2     | 4.8    | 237.8  | 2059.1 | 14.4 | 21.6 | 17.0 | 37.3 |
| constant    | 1.4     | 1.4    | 37.9   | 43.6   | 10.6 | 10.8 | 10.8 | 11.1 |
| constant    | 1.4     | 1.4    | 37.5   | 44.1   | 10.8 | 11.1 | 11.0 | 11.3 |
| constant    | 1.6     | 1.9    | 42.3   | 335.2  | 12.4 | 13.3 | 12.7 | 14.5 |
| constant    | 1.6     | 1.7    | 49.5   | 52.7   | 12.5 | 13.2 | 12.8 | 13.5 |
| constant    | 7.0     | 7.4    | 3697.5 | 3833.5 | 26.5 | 28.7 | 55.0 | 58.0 |
| constant    | 4.9     | 7.5    | 1852.6 | 3643.3 | 27.8 | 30.3 | 38.6 | 58.4 |
|=============|=========|========|========|========|======|======|======|======|


ℹ Server Throughput Statistics
|=============|======|======|=======|=======|=========|==========|========|========|========|=========|
| Benchmark   | Requests                 |||| Input Tokens      || Output Tokens  || Total Tokens    ||
| Strategy    | Per Sec    || Concurrency  || Per Sec           || Per Sec        || Per Sec         ||
|             | Mdn  | Mean | Mdn   | Mean  | Mdn     | Mean     | Mdn    | Mean   | Mdn    | Mean    |
|-------------|------|------|-------|-------|---------|----------|--------|--------|--------|---------|
| synchronous | 1.0  | 1.0  | 1.0   | 1.0   | 1987.2  | 1994.8   | 127.3  | 123.8  | 127.7  | 2112.8  |
| throughput  | 16.7 | 37.9 | 223.0 | 227.4 | 76082.4 | 147451.6 | 2893.3 | 5033.8 | 3063.5 | 85888.5 |
| constant    | 5.5  | 5.5  | 6.0   | 6.2   | 11478.1 | 11501.0  | 559.8  | 702.6  | 562.6  | 11987.4 |
| constant    | 10.3 | 17.3 | 13.0  | 46.2  | 21031.2 | 38188.7  | 1255.1 | 2237.7 | 1274.6 | 38181.2 |
| constant    | 13.2 | 13.9 | 20.0  | 19.0  | 30093.2 | 30539.8  | 1405.6 | 1798.1 | 1416.4 | 30679.7 |
| constant    | 15.9 | 18.1 | 27.0  | 25.1  | 39998.4 | 40055.0  | 1661.3 | 2307.9 | 1679.7 | 39379.1 |
| constant    | 20.9 | 23.1 | 38.0  | 37.8  | 47819.5 | 53841.4  | 2213.6 | 3016.1 | 2232.1 | 51462.2 |
| constant    | 23.5 | 28.6 | 47.0  | 44.2  | 58837.3 | 59013.2  | 2538.0 | 3255.8 | 2565.3 | 55551.9 |
| constant    | 16.7 | 39.6 | 229.0 | 231.1 | 80301.4 | 160803.0 | 2953.8 | 5209.4 | 3063.5 | 88885.7 |
| constant    | 13.4 | 37.6 | 200.0 | 189.8 | 71846.8 | 143497.8 | 3039.4 | 5009.3 | 3146.0 | 85471.4 |
|=============|======|======|=======|=======|=========|==========|========|========|========|=========|



# Guidellm Client (Balanced)
guidellm benchmark --target http://localhost:8000 --model "Qwen/Qwen3-8B-FP8" \
--data 'prompt_tokens=1024,output_tokens=1024' \
--data-samples 300 \
--rate-type sweep \
--warmup 0.01 \
--cooldown 0.01

ℹ Request Latency Statistics (Completed Requests)
|=============|=========|========|========|========|======|======|======|======|
| Benchmark   | Request Latency || TTFT           || ITL        || TPOT       ||
| Strategy    | Sec             || ms             || ms         || ms         ||
|             | Mdn     | p95    | Mdn    | p95    | Mdn  | p95  | Mdn  | p95  |
|-------------|---------|--------|--------|--------|------|------|------|------|
| synchronous | 7.6     | 8.1    | 49.4   | 50.9   | 7.4  | 7.8  | 7.4  | 7.9  |
| throughput  | 31.6    | 36.0   | 4259.2 | 4347.3 | 28.1 | 31.1 | 30.8 | 35.1 |
| constant    | 7.8     | 9.6    | 35.6   | 42.3   | 7.6  | 9.3  | 7.6  | 9.4  |
| constant    | 9.4     | 10.9   | 37.8   | 199.2  | 9.2  | 10.6 | 9.2  | 10.7 |
| constant    | 10.0    | 11.6   | 38.5   | 44.5   | 9.7  | 11.3 | 9.8  | 11.3 |
| constant    | 12.0    | 17.7   | 46.6   | 1011.0 | 11.5 | 16.5 | 11.7 | 17.3 |
| constant    | 11.8    | 14.2   | 43.3   | 53.5   | 11.5 | 13.8 | 11.5 | 13.9 |
| constant    | 15.3    | 20.6   | 60.5   | 1111.8 | 14.8 | 19.5 | 15.0 | 20.1 |
| constant    | 13.8    | 18.1   | 49.0   | 62.4   | 13.4 | 17.7 | 13.5 | 17.7 |
| constant    | 15.3    | 19.8   | 53.8   | 324.8  | 14.7 | 19.3 | 15.0 | 19.3 |
|=============|=========|========|========|========|======|======|======|======|


ℹ Server Throughput Statistics
|=============|=====|======|=======|=======|=========|=========|========|========|========|=========|
| Benchmark   | Requests                |||| Input Tokens     || Output Tokens  || Total Tokens    ||
| Strategy    | Per Sec   || Concurrency  || Per Sec          || Per Sec        || Per Sec         ||
|             | Mdn | Mean | Mdn   | Mean  | Mdn     | Mean    | Mdn    | Mean   | Mdn    | Mean    |
|-------------|-----|------|-------|-------|---------|---------|--------|--------|--------|---------|
| synchronous | 0.1 | 0.1  | 1.0   | 1.0   | 146.0   | 152.5   | 134.2  | 151.0  | 134.2  | 303.1   |
| throughput  | 3.7 | 8.2  | 284.0 | 248.5 | 36136.1 | 71604.6 | 6385.4 | 8531.0 | 6424.1 | 17128.7 |
| constant    | 0.9 | 1.1  | 9.0   | 8.6   | 1192.6  | 1210.7  | 896.2  | 1167.8 | 897.2  | 2344.6  |
| constant    | 1.6 | 2.2  | 19.0  | 19.1  | 2234.0  | 2381.7  | 1691.7 | 2213.1 | 1694.0 | 4443.5  |
| constant    | 2.5 | 3.1  | 29.0  | 28.3  | 3272.6  | 3240.9  | 2246.4 | 2912.8 | 2249.9 | 5848.3  |
| constant    | 3.6 | 5.3  | 46.0  | 51.1  | 4315.3  | 5619.7  | 3528.6 | 4668.2 | 3536.9 | 9372.8  |
| constant    | 3.6 | 5.1  | 57.0  | 53.7  | 5345.3  | 5504.4  | 3482.1 | 4526.1 | 3489.0 | 9087.5  |
| constant    | 4.7 | 7.4  | 100.0 | 93.9  | 6402.1  | 8649.2  | 4871.1 | 6338.3 | 4885.4 | 12726.1 |
| constant    | 5.2 | 6.5  | 88.0  | 83.7  | 7444.1  | 7383.0  | 4280.1 | 5564.4 | 4290.4 | 11172.3 |
| constant    | 5.0 | 7.2  | 112.0 | 100.1 | 8442.9  | 9103.5  | 4853.7 | 6339.5 | 4864.8 | 12728.6 |
|=============|=====|======|=======|=======|=========|=========|========|========|========|=========|




# Guidellm Client (Decode-heavy)
guidellm benchmark --target http://localhost:8000 --model "Qwen/Qwen3-8B-FP8" \
--data 'prompt_tokens=128,output_tokens=2048' \
--data-samples 300 \
--rate-type sweep \
--warmup 0.01 \
--cooldown 0.01

ℹ Request Latency Statistics (Completed Requests)
|=============|=========|========|========|========|======|======|======|======|
| Benchmark   | Request Latency || TTFT           || ITL        || TPOT       ||
| Strategy    | Sec             || ms             || ms         || ms         ||
|             | Mdn     | p95    | Mdn    | p95    | Mdn  | p95  | Mdn  | p95  |
|-------------|---------|--------|--------|--------|------|------|------|------|
| synchronous | 10.5    | 14.8   | 27.8   | 29.4   | 5.1  | 7.2  | 5.1  | 7.2  |
| throughput  | 44.6    | 56.0   | 3961.0 | 4014.7 | 20.4 | 25.5 | 21.8 | 27.3 |
| constant    | 11.7    | 17.3   | 32.4   | 37.7   | 5.7  | 8.4  | 5.7  | 8.5  |
| constant    | 13.1    | 19.1   | 34.1   | 40.1   | 6.4  | 9.3  | 6.4  | 9.3  |
| constant    | 13.9    | 20.7   | 35.9   | 41.6   | 6.8  | 10.1 | 6.8  | 10.1 |
| constant    | 17.0    | 25.7   | 41.8   | 707.7  | 8.2  | 12.2 | 8.3  | 12.5 |
| constant    | 38.6    | 53.0   | 1970.4 | 2928.9 | 18.3 | 24.7 | 18.8 | 25.9 |
| constant    | 17.7    | 27.2   | 44.1   | 70.4   | 8.6  | 13.3 | 8.6  | 13.3 |
| constant    | 19.6    | 29.7   | 44.7   | 56.3   | 9.6  | 14.5 | 9.6  | 14.5 |
| constant    | 21.1    | 30.8   | 46.2   | 59.5   | 10.3 | 15.0 | 10.3 | 15.0 |
|=============|=========|========|========|========|======|======|======|======|


ℹ Server Throughput Statistics
|=============|=====|======|=======|=======|========|=========|========|=========|========|=========|
| Benchmark   | Requests                |||| Input Tokens    || Output Tokens   || Total Tokens    ||
| Strategy    | Per Sec   || Concurrency  || Per Sec         || Per Sec         || Per Sec         ||
|             | Mdn | Mean | Mdn   | Mean  | Mdn    | Mean    | Mdn    | Mean    | Mdn    | Mean    |
|-------------|-----|------|-------|-------|--------|---------|--------|---------|--------|---------|
| synchronous | 0.1 | 0.1  | 1.0   | 1.0   | 12.4   | 12.9    | 177.0  | 194.1   | 177.0  | 207.0   |
| throughput  | 2.7 | 5.2  | 258.0 | 225.1 | 5058.1 | 10239.4 | 7792.5 | 10757.4 | 7825.9 | 11471.7 |
| constant    | 0.5 | 0.7  | 8.0   | 8.4   | 100.1  | 101.5   | 1138.6 | 1479.8  | 1139.8 | 1578.0  |
| constant    | 1.0 | 1.3  | 18.0  | 17.4  | 187.2  | 190.6   | 2060.5 | 2697.2  | 2062.5 | 2876.3  |
| constant    | 1.4 | 1.8  | 28.0  | 26.3  | 274.5  | 276.4   | 2870.3 | 3747.3  | 2873.7 | 3996.2  |
| constant    | 2.3 | 2.8  | 44.0  | 47.6  | 361.6  | 448.3   | 4232.2 | 5640.3  | 4238.5 | 6014.8  |
| constant    | 3.2 | 5.1  | 234.0 | 198.1 | 451.3  | 1762.1  | 7323.4 | 10143.1 | 7348.2 | 10816.7 |
| constant    | 3.0 | 3.6  | 68.0  | 62.8  | 535.8  | 561.9   | 5019.2 | 6602.9  | 5025.9 | 7041.4  |
| constant    | 3.2 | 4.1  | 89.0  | 78.1  | 622.6  | 622.4   | 5213.4 | 6963.6  | 5223.2 | 7426.1  |
| constant    | 3.2 | 4.4  | 99.0  | 87.9  | 708.2  | 702.7   | 5588.0 | 7482.9  | 5598.7 | 7979.8  |
|=============|=====|======|=======|=======|========|=========|========|=========|========|=========|