# VLLM Server
VLLM_ATTENTION_BACKEND=FLASH_ATTN vllm serve "Qwen/Qwen3-8B" --max-model-len 8192 --tensor-parallel-size 1 --gpu-memory-utilization 0.9 --seed 42 --speculative-config '{"model": "RedHatAI/Qwen3-8B-speculator.eagle3", "num_speculative_tokens": 1, "method": "eagle3"}' &> serve_bf16_num1.log &

# Guidellm Client (Prefill-heavy)
guidellm benchmark --target http://localhost:8000 --model "Qwen/Qwen3-8B" \
--data 'prompt_tokens=2048,output_tokens=128' \
--data-samples 300 \
--rate-type sweep \
--warmup 0.01 \
--cooldown 0.01

ℹ Request Latency Statistics (Completed Requests)
|=============|=========|========|========|=========|======|======|=======|=======|
| Benchmark   | Request Latency || TTFT            || ITL        || TPOT         ||
| Strategy    | Sec             || ms              || ms         || ms           ||
|             | Mdn     | p95    | Mdn    | p95     | Mdn  | p95  | Mdn   | p95   |
|-------------|---------|--------|--------|---------|------|------|-------|-------|
| synchronous | 0.8     | 0.9    | 73.9   | 75.3    | 6.1  | 6.5  | 6.6   | 7.0   |
| throughput  | 19.2    | 21.1   | 8559.7 | 18301.4 | 78.4 | 89.5 | 149.6 | 165.0 |
| constant    | 1.0     | 4.0    | 81.1   | 1579.4  | 7.1  | 23.5 | 7.7   | 31.0  |
| constant    | 1.1     | 7.1    | 83.3   | 3275.2  | 8.2  | 45.8 | 8.7   | 55.4  |
| constant    | 19.1    | 21.0   | 8530.0 | 18268.4 | 79.0 | 91.6 | 148.8 | 164.2 |
| constant    | 19.1    | 21.1   | 8580.3 | 18209.9 | 78.3 | 90.9 | 149.2 | 164.8 |
| constant    | 1.7     | 1.8    | 83.7   | 90.0    | 12.4 | 13.2 | 12.9  | 13.8  |
| constant    | 2.1     | 2.2    | 87.1   | 93.4    | 16.0 | 16.9 | 16.5  | 17.4  |
| constant    | 2.8     | 3.1    | 95.9   | 99.8    | 21.7 | 23.4 | 22.3  | 24.0  |
| constant    | 6.6     | 7.6    | 164.2  | 669.8   | 50.2 | 55.9 | 51.3  | 59.4  |
|=============|=========|========|========|=========|======|======|=======|=======|


ℹ Server Throughput Statistics
|=============|=====|======|=======|=======|=========|=========|========|========|========|=========|
| Benchmark   | Requests                |||| Input Tokens     || Output Tokens  || Total Tokens    ||
| Strategy    | Per Sec   || Concurrency  || Per Sec          || Per Sec        || Per Sec         ||
|             | Mdn | Mean | Mdn   | Mean  | Mdn     | Mean    | Mdn    | Mean   | Mdn    | Mean    |
|-------------|-----|------|-------|-------|---------|---------|--------|--------|--------|---------|
| synchronous | 1.2 | 1.2  | 1.0   | 1.0   | 2424.9  | 2433.6  | 163.0  | 151.0  | 164.5  | 2576.8  |
| throughput  | 0.2 | 14.0 | 298.0 | 250.4 | 18394.1 | 32533.3 | 1217.1 | 1816.3 | 1252.7 | 30991.4 |
| constant    | 2.8 | 3.2  | 3.0   | 4.5   | 5722.4  | 6606.2  | 300.6  | 407.8  | 301.5  | 6957.9  |
| constant    | 4.3 | 5.6  | 5.0   | 15.1  | 9091.1  | 11714.5 | 481.3  | 718.9  | 488.1  | 12266.2 |
| constant    | 0.2 | 14.0 | 298.0 | 251.9 | 18732.0 | 32625.6 | 1234.9 | 1821.9 | 1271.5 | 31085.4 |
| constant    | 0.2 | 14.0 | 298.0 | 251.7 | 18535.2 | 32564.4 | 1222.9 | 1819.8 | 1277.2 | 31050.6 |
| constant    | 8.4 | 8.9  | 15.0  | 14.8  | 18651.0 | 18998.6 | 875.9  | 1150.4 | 887.8  | 19629.0 |
| constant    | 9.5 | 10.6 | 23.0  | 21.8  | 22387.2 | 22307.0 | 988.6  | 1342.4 | 1002.9 | 22905.5 |
| constant    | 9.3 | 13.1 | 36.0  | 34.8  | 25544.7 | 25628.2 | 1161.6 | 1529.9 | 1180.2 | 26103.5 |
| constant    | 7.3 | 13.6 | 93.0  | 81.7  | 28166.2 | 30109.4 | 1267.8 | 1754.3 | 1310.0 | 29933.2 |
|=============|=====|======|=======|=======|=========|=========|========|========|========|=========|


# Guidellm Client (Balanced)
guidellm benchmark --target http://localhost:8000 --model "Qwen/Qwen3-8B" \
--data 'prompt_tokens=1024,output_tokens=1024' \
--data-samples 300 \
--rate-type sweep \
--warmup 0.01 \
--cooldown 0.01

ℹ Request Latency Statistics (Completed Requests)
|=============|=========|========|========|========|======|======|======|======|
| Benchmark   | Request Latency || TTFT           || ITL        || TPOT       ||
| Strategy    | Sec             || ms             || ms         || ms         ||
|             | Mdn     | p95    | Mdn    | p95    | Mdn  | p95  | Mdn  | p95  |
|-------------|---------|--------|--------|--------|------|------|------|------|
| synchronous | 6.1     | 6.4    | 47.2   | 48.3   | 5.9  | 6.2  | 6.0  | 6.2  |
| throughput  | 37.2    | 46.9   | 4168.5 | 7083.0 | 33.2 | 38.9 | 36.3 | 45.8 |
| constant    | 6.8     | 7.2    | 54.6   | 60.5   | 6.6  | 7.0  | 6.6  | 7.0  |
| constant    | 7.2     | 7.7    | 58.3   | 64.9   | 7.0  | 7.5  | 7.1  | 7.5  |
| constant    | 8.0     | 8.5    | 58.2   | 65.3   | 7.8  | 8.3  | 7.8  | 8.3  |
| constant    | 11.0    | 20.2   | 77.3   | 2205.9 | 10.7 | 18.7 | 10.7 | 19.7 |
| constant    | 9.9     | 10.5   | 65.0   | 223.1  | 9.6  | 10.2 | 9.7  | 10.3 |
| constant    | 11.0    | 11.8   | 67.6   | 91.2   | 10.6 | 11.4 | 10.7 | 11.5 |
| constant    | 23.5    | 27.5   | 125.7  | 2690.9 | 22.6 | 25.6 | 22.9 | 26.9 |
| constant    | 14.1    | 16.0   | 76.7   | 89.6   | 13.7 | 15.5 | 13.7 | 15.6 |
|=============|=========|========|========|========|======|======|======|======|


ℹ Server Throughput Statistics
|=============|=====|======|=======|=======|=========|=========|========|========|========|=========|
| Benchmark   | Requests                |||| Input Tokens     || Output Tokens  || Total Tokens    ||
| Strategy    | Per Sec   || Concurrency  || Per Sec          || Per Sec        || Per Sec         ||
|             | Mdn | Mean | Mdn   | Mean  | Mdn     | Mean    | Mdn    | Mean   | Mdn    | Mean    |
|-------------|-----|------|-------|-------|---------|---------|--------|--------|--------|---------|
| synchronous | 0.2 | 0.2  | 1.0   | 1.0   | 170.0   | 171.8   | 168.5  | 169.9  | 168.5  | 341.1   |
| throughput  | 0.1 | 6.3  | 300.0 | 243.2 | 17903.4 | 43752.6 | 4864.2 | 6460.7 | 4886.2 | 12972.0 |
| constant    | 0.9 | 0.9  | 6.0   | 6.2   | 956.2   | 970.2   | 745.6  | 943.4  | 746.6  | 1894.2  |
| constant    | 1.5 | 1.6  | 12.0  | 11.9  | 1741.3  | 1746.9  | 1288.6 | 1667.3 | 1291.1 | 3347.7  |
| constant    | 2.1 | 2.5  | 20.0  | 19.2  | 2526.8  | 2558.7  | 1848.6 | 2401.3 | 1852.2 | 4821.3  |
| constant    | 2.6 | 4.1  | 30.0  | 55.6  | 3312.3  | 4756.9  | 3086.4 | 4256.4 | 3097.7 | 8546.0  |
| constant    | 3.0 | 3.8  | 39.0  | 37.2  | 4098.6  | 4338.2  | 2961.2 | 3870.6 | 2968.3 | 7771.5  |
| constant    | 3.8 | 5.1  | 52.0  | 49.3  | 4894.6  | 5088.9  | 3398.4 | 4421.3 | 3407.4 | 8877.2  |
| constant    | 7.0 | 12.0 | 129.0 | 119.9 | 5642.0  | 8399.7  | 4867.8 | 6233.3 | 4895.9 | 12515.4 |
| constant    | 4.4 | 6.1  | 87.0  | 79.2  | 6440.1  | 6446.4  | 4124.6 | 5262.1 | 4138.7 | 10565.4 |
|=============|=====|======|=======|=======|=========|=========|========|========|========|=========|



# Guidellm Client (Decode-heavy)
guidellm benchmark --target http://localhost:8000 --model "Qwen/Qwen3-8B" \
--data 'prompt_tokens=128,output_tokens=2048' \
--data-samples 300 \
--rate-type sweep \
--warmup 0.01 \
--cooldown 0.01


ℹ Request Latency Statistics (Completed Requests)
|=============|=========|========|========|========|======|======|======|======|
| Benchmark   | Request Latency || TTFT           || ITL        || TPOT       ||
| Strategy    | Sec             || ms             || ms         || ms         ||
|             | Mdn     | p95    | Mdn    | p95    | Mdn  | p95  | Mdn  | p95  |
|-------------|---------|--------|--------|--------|------|------|------|------|
| synchronous | 11.3    | 12.0   | 28.4   | 29.4   | 5.5  | 5.9  | 5.5  | 5.9  |
| throughput  | 55.9    | 66.5   | 4193.7 | 4251.2 | 25.6 | 30.4 | 27.3 | 32.5 |
| constant    | 12.6    | 13.5   | 35.6   | 40.6   | 6.2  | 6.6  | 6.2  | 6.6  |
| constant    | 13.4    | 14.5   | 37.0   | 42.3   | 6.5  | 7.1  | 6.5  | 7.1  |
| constant    | 14.7    | 15.7   | 38.8   | 45.1   | 7.1  | 7.6  | 7.2  | 7.7  |
| constant    | 16.5    | 19.6   | 44.4   | 584.0  | 8.0  | 9.4  | 8.0  | 9.6  |
| constant    | 17.2    | 18.6   | 44.0   | 52.0   | 8.4  | 9.1  | 8.4  | 9.1  |
| constant    | 18.9    | 20.6   | 46.8   | 55.7   | 9.2  | 10.1 | 9.2  | 10.1 |
| constant    | 21.3    | 23.4   | 52.2   | 65.7   | 10.4 | 11.4 | 10.4 | 11.4 |
| constant    | 37.4    | 41.3   | 107.7  | 1823.6 | 17.9 | 19.9 | 18.3 | 20.2 |
|=============|=========|========|========|========|======|======|======|======|


ℹ Server Throughput Statistics
|=============|=====|======|=======|=======|========|========|========|========|========|========|
| Benchmark   | Requests                |||| Input Tokens   || Output Tokens  || Total Tokens   ||
| Strategy    | Per Sec   || Concurrency  || Per Sec        || Per Sec        || Per Sec        ||
|             | Mdn | Mean | Mdn   | Mean  | Mdn    | Mean   | Mdn    | Mean   | Mdn    | Mean   |
|-------------|-----|------|-------|-------|--------|--------|--------|--------|--------|--------|
| synchronous | 0.1 | 0.1  | 1.0   | 1.0   | 12.0   | 12.1   | 181.2  | 181.3  | 181.3  | 193.3  |
| throughput  | 0.0 | 4.4  | 300.0 | 251.1 | 4710.0 | 9823.1 | 7087.2 | 9102.2 | 7120.8 | 9706.6 |
| constant    | 0.6 | 0.6  | 8.0   | 7.8   | 85.5   | 86.4   | 1008.1 | 1268.7 | 1008.9 | 1353.0 |
| constant    | 1.0 | 1.1  | 16.0  | 15.1  | 159.0  | 160.8  | 1796.4 | 2302.8 | 1798.1 | 2455.7 |
| constant    | 1.4 | 1.6  | 25.0  | 23.6  | 232.4  | 233.2  | 2509.0 | 3260.1 | 2511.8 | 3476.6 |
| constant    | 1.8 | 2.3  | 37.0  | 39.2  | 305.8  | 355.7  | 3659.2 | 4761.8 | 3664.8 | 5078.0 |
| constant    | 2.2 | 2.8  | 48.0  | 45.4  | 379.6  | 385.7  | 3963.2 | 5069.0 | 3968.8 | 5405.6 |
| constant    | 2.5 | 3.2  | 62.0  | 57.5  | 453.0  | 452.8  | 4538.8 | 5775.7 | 4545.4 | 6159.2 |
| constant    | 2.8 | 3.9  | 80.0  | 73.9  | 526.3  | 547.8  | 5184.8 | 6609.4 | 5193.5 | 7048.3 |
| constant    | 5.4 | 8.5  | 140.0 | 141.7 | 596.1  | 1000.8 | 7002.4 | 9100.7 | 7025.2 | 9705.1 |
|=============|=====|======|=======|=======|========|========|========|========|========|========|